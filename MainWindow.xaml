<Window x:Class="Un.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="UN Game - 4 Players" Height="700" Width="1000"
        PreviewKeyDown="Window_PreviewKeyDown">
    <DockPanel>
        <!-- Menu Bar -->
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_Game">
                <MenuItem x:Name="NewGameMenuItem" Header="_New Game" Click="NewGameMenuItem_Click" InputGestureText="Ctrl+N" />
                <Separator />
                <MenuItem x:Name="ExitMenuItem" Header="E_xit" Click="ExitMenuItem_Click" />
            </MenuItem>
            <MenuItem Header="_Options">
                <MenuItem x:Name="ShowLogMenuItem" Header="Show _Log" IsCheckable="True" Click="ShowLogMenuItem_Click" InputGestureText="Ctrl+L" />
            </MenuItem>
        </Menu>
        
        <Grid Margin="10">
            <Grid.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#1a5a2e" Offset="0" />
                    <GradientStop Color="#2d7a3e" Offset="0.5" />
                    <GradientStop Color="#1a5a2e" Offset="1" />
                </LinearGradientBrush>
            </Grid.Background>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!-- Top Player (Player 2) -->
            <StackPanel Grid.Row="0" Grid.Column="1" Margin="8,8,8,10">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,8">
                    <Ellipse x:Name="Player2TurnIndicator" Width="12" Height="12" Fill="Transparent" Margin="0,0,8,0" />
                    <TextBlock x:Name="Player2Label" Text="Player 2 (0 cards)" FontWeight="Bold" Foreground="White" />
                </StackPanel>
                <ItemsControl x:Name="Player2HandDisplay" MinHeight="80">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </StackPanel>

        <!-- Left Player (Player 3) -->
        <StackPanel Grid.Row="1" Grid.Column="0" Margin="8,8,10,8">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,8">
                <Ellipse x:Name="Player3TurnIndicator" Width="12" Height="12" Fill="Transparent" Margin="0,0,8,0" />
                <TextBlock x:Name="Player3Label" Text="Player 3 (0 cards)" FontWeight="Bold" Foreground="White" />
            </StackPanel>
                <ItemsControl x:Name="Player3HandDisplay" MinWidth="150">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Vertical" HorizontalAlignment="Center" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </StackPanel>

        <!-- Center Area with Stock and Discard Piles -->
        <StackPanel Grid.Row="1" Grid.Column="1" Margin="8" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
            <StackPanel Margin="0,0,20,0">
                <TextBlock x:Name="StockPileLabel" Text="Stock Pile" FontWeight="Bold" Margin="0,0,0,8" HorizontalAlignment="Center" Foreground="White" />
                <Border x:Name="StockPileContainer" Width="100" Height="140" Cursor="Hand" MouseLeftButtonDown="StockPile_Click">
                    <!-- SVG will be rendered here -->
                </Border>
            </StackPanel>
                
            <StackPanel>
                <TextBlock Text="Discard Pile" FontWeight="Bold" Margin="0,0,0,8" HorizontalAlignment="Center" Foreground="White" />
                <Border x:Name="DiscardPileContainer" Width="100" Height="140">
                    <!-- SVG will be rendered here -->
                </Border>
            </StackPanel>
        </StackPanel>

        <!-- Right Player (Player 4) -->
        <StackPanel Grid.Row="1" Grid.Column="2" Margin="10,8,8,8">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,8">
                <Ellipse x:Name="Player4TurnIndicator" Width="12" Height="12" Fill="Transparent" Margin="0,0,8,0" />
                <TextBlock x:Name="Player4Label" Text="Player 4 (0 cards)" FontWeight="Bold" Foreground="White" />
            </StackPanel>
                <ItemsControl x:Name="Player4HandDisplay" MinWidth="150">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Vertical" HorizontalAlignment="Center" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </StackPanel>

        <!-- Bottom Player (Player 1 - Human) -->
        <StackPanel Grid.Row="2" Grid.Column="1" Margin="8" MinHeight="180">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,8">
                <Ellipse x:Name="Player1TurnIndicator" Width="12" Height="12" Fill="Transparent" Margin="0,0,8,0" />
                <TextBlock x:Name="Player1Label" Text="You (0 cards)" FontWeight="Bold" Foreground="White" />
            </StackPanel>
                <ItemsControl x:Name="Player1HandDisplay" MinHeight="140">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </StackPanel>

        <!-- Game Log Panel -->
        <Border x:Name="LogPanel" Grid.Row="0" Grid.Column="3" Grid.RowSpan="3" 
                BorderBrush="DarkGreen" BorderThickness="2" CornerRadius="6" 
                Padding="8" Margin="10,0,0,0" Width="250" Visibility="Visible" Background="White">
            <DockPanel>
                <TextBlock DockPanel.Dock="Top" Text="Game Log" FontWeight="Bold" 
                           FontSize="14" Margin="0,0,0,8" HorizontalAlignment="Center" Foreground="Black" />
                <ScrollViewer x:Name="LogScrollViewer" VerticalScrollBarVisibility="Auto">
                    <ItemsControl x:Name="GameLogDisplay">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" TextWrapping="Wrap" Margin="0,2" />
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </DockPanel>
        </Border>
    </Grid>
    </DockPanel>
</Window>
